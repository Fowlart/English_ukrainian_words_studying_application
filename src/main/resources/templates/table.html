<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <link href="style.css" rel='stylesheet'>
    <link href="table.css" rel='stylesheet'>
    <script th:inline="javascript">
        var user = /*[[${eMail}]]*/
            console.log(user);
    </script>
    <script defer src="modal_script.js"></script>
    <title>MAIN SCREEN</title>
</head>

<body onload="getWord()">
    <h1>WELCOME</h1>

    <form action="downloadFile" method="GET">
        <div>
            <button id="profile_csv_picker_save" type="submit" style="visibility: hidden;">Save</button>
        </div>
    </form>

    <!--Table of all user words  -->
    <script src="getTable.js"></script>
    <div>
        <table>
            <thead>
                <tr id="thad"></tr>
            </thead>
            <tbody id="tbod"></tbody>
        </table>
    </div>

    <p>TRANSLATE: <span id="translate"></span></p>

    <!--Input field with script for processing -->
    <script th:inline="javascript" src="get_send_word.js"></script>
    <br>
    <nav>
        <h2>CONTROLS</h2>
        <fieldset>
            <legend>CONTROLS</legend>
            <label id='TranslateWarn' for="WordInput">enter translation: </label>
            <input id="WordInput" type="text" name="answer">
            <p><button onclick="sendWord()">send answer</button>
                <button data-modal-target="#modal">show answer</button>
                <ul>
                    <li>
                        <input onchange="getTable()" type="checkbox" name="power" id="power">
                        <label for="power"><span class="on">On table</span> <span class="off">Off table</span></label>
                    </li>
                </ul>
            </p>
        </fieldset>
    </nav>

    <!-- Get new word for translate -->
    <br>
    <div id="infoSection">
        <section>
            <h2>USER INFO</h2>
            <fieldset>
                <legend>USER INFO</legend>
                <p>User: <span id="user"></span></p>
                <p>Progress: </p>
                <p> <progress id="progress" value="0" max="100"></progress></p>
            </fieldset>
        </section>
    </div>

    <!--CSV picker -->
    <br>
    <section id="CSV_picker">
        <h2>UPLOAD/SAVE FILE</h2>
        <fieldset>
            <legend>UPLOAD/SAVE FILE</legend>
            <form method="POST" action="uploadFile" enctype="multipart/form-data">
                <div>
                    <label for="eMail">Enter eMail</label>
                    <input type="email" id="profile_eMail" name="eMail">
                </div>
                <div>
                    <label for="aFile">Choose file to upload</label>
                    <input type="file" id="profile_csv_picker" name="aFile" accept=".csv">
                </div>
                <div>
                    <button id="profile_csv_picker_submit" type="submit">Submit</button>
                </div>
            </form>
        </fieldset>
    </section>

    <!--use the modal-->
    <div class="modal" id="modal">
        <div class="modal-header">
            <div class="title">Words details</div>
            <button data-close-button class="close-button">&times;</button>
        </div>
        <div class="modal-body" id="modalBody">
            <p id="details" style="font-size: large;"></p>
            <br /><audio controls id="myAudio">
                    <source type="audio/mpeg" src="">
                </audio>
        </div>
    </div>
    <div id="overlay"></div>

</body>

</html>