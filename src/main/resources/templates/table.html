<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <link href="style.css" rel='stylesheet'>
    <link href="table.css" rel='stylesheet'>
    <link href="logger.css" rel='stylesheet'>
    <script th:inline="javascript">
        var user = /*[[${eMail}]]*/
            console.log(user);
    </script>
    <script defer src="modal_script.js"></script>
    <title>MAIN SCREEN</title>
</head>

<body onload="getWord()">

    <div style="text-align: left">
        <div class="console">
            <div class="saveButton">
                <form action="downloadFile" method="GET">
                    <button id="profile_csv_picker_save" type="submit" style="visibility: hidden;">Save</button>
            </div>
            <div class="glowText"><span id="translate">please download dictionary</span></div>
            <div class='pError'>Some erorrs to display.</div>
            <div class='pInfo'>Some info to display.</div>
            <div class='pWarn'>Some warnings to display.</div>
            <!--Used form tag for providing save-file functionality-->

            </form>
        </div>
    </div>

    <!--Input field with script for processing -->
    <script th:inline="javascript" src="get_send_word.js"></script>
    <br>

    <!-- Used 'fieldset' for position 'CONTROLS' section -->
    <fieldset>
        <legend>CONTROLS</legend>

        <label id='TranslateWarn' for="WordInput">enter translation: </label>
        <input id="WordInput" type="text" name="answer">
        <p><button onclick="sendWord()">send answer</button>
            <button data-modal-target="#modal">show answer</button>
            <ul>
                <li>
                    <input onchange="getTable()" type="checkbox" name="power" id="power">
                    <label for="power"><span class="on">On table</span> <span class="off">Off table</span></label>
                </li>
            </ul>
        </p>
    </fieldset>

    <!--Table of all user words  -->
    <script src="getTable.js"></script>
    <div style="text-align: center">
        <div class="myTable">
            <table>
                <thead>
                    <tr id="thad"></tr>
                </thead>
                <tbody id="tbod"></tbody>
            </table>
        </div>
    </div>

    <!-- Get new word for translate -->
    <br>
    <fieldset>
        <legend>USER INFO</legend>
        <p>User: <span id="user"></span></p>
        <p>Progress: </p>
        <p> <progress id="progress" value="0" max="100"></progress></p>
    </fieldset>

    <!--CSV picker -->
    <br>
    <fieldset id="CSV_picker">
        <legend>UPLOAD/SAVE FILE</legend>
        <form method="POST" action="uploadFile" enctype="multipart/form-data">
            <div>
                <label for="eMail">Enter eMail</label>
                <input type="email" id="profile_eMail" name="eMail">
            </div>
            <div>
                <label for="aFile">Choose file to upload</label>
                <input type="file" id="profile_csv_picker" name="aFile" accept=".csv">
            </div>
            <div>
                <button id="profile_csv_picker_submit" type="submit">Submit</button>
            </div>
        </form>
    </fieldset>

    <!--use the modal-->
    <div class="modal" id="modal">
        <div class="modal-header">
            <div class="title">Words details</div>
            <button data-close-button class="close-button">&times;</button>
        </div>
        <div class="modal-body" id="modalBody">
            <p id="details" style="font-size: large;"></p>
            <br /><audio controls id="myAudio">
                    <source type="audio/mpeg" src="">
                </audio>
        </div>
    </div>
    <div id="overlay"></div>

</body>

</html>